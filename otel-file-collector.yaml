receivers:
  filelog/review:
    include:
      - /app/logs/review-service.log
    start_at: beginning
    attributes:
      app: review-service

  filelog/storage:
    include:
      - /app/logs/storage-service.log
    start_at: beginning
    attributes:
      app: storage-service

  hostmetrics:
    collection_interval: 1s
    scrapers:
      cpu:
        metrics:
          system.cpu.time:
            enabled: true
          system.cpu.utilization:
            enabled: true
      memory:
        metrics:
          system.memory.usage:
            enabled: true
          system.memory.utilization:
            enabled: true
      filesystem:
        metrics:
          system.filesystem.usage:
            enabled: true
          system.filesystem.utilization:
            enabled: true
      paging:
        metrics:
          system.paging.usage:
            enabled: true
          system.paging.utilization:
            enabled: true
          system.paging.faults:
            enabled: true
      disk:
      load:
      network:
      processes:

processors:
  attributes/copy_app:
    actions:
      - key: app
        from_attribute: app
        action: insert

exporters:
  otlp:
    endpoint: localhost:4317
    headers:
      authorization: c9170d6b-388f-4db9-970c-5e15a688d47f
    tls:
      insecure: true
    sending_queue:
      enabled: true
      num_consumers: 10
      queue_size: 262144

service:
  pipelines:
    logs:
      receivers: [filelog/review, filelog/storage]
      processors: [attributes/copy_app]
      exporters: [otlp]

    metrics:
      receivers: [hostmetrics]
      exporters: [otlp]
